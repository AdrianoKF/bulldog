def javaProjects = [
					project(":bulldog.core"), 
					project(":bulldog.devices"), 
					project(":bulldog.examples"), 
					project(":bulldog.beagleboneblack")
				   ]

def nativeProjects = [
						project(":bulldog.beagleboneblack.platform")
					 ]

configure(nativeProjects) {
	project -> apply from: new File(project.projectDir, 'build.gradle')
}
					 
configure(javaProjects) { 
   	   
    apply plugin: 'java'
    apply plugin: 'eclipse'
   	
   	jdkVersion = 1.7
    sourceCompatibility = jdkVersion
    targetCompatibility = jdkVersion
    
    version = '0.1'
    vendor = 'Datenheld'
 
    repositories {
       mavenCentral()
    }
 
    dependencies {
    	testCompile 'junit:junit:4.8.2'
    }
 
    jar {
        manifest.attributes provider: 'gradle'
        manifest.attributes 'Implementation-Vendor-Id': vendor
        manifest.attributes 'Implementation-Vendor': vendor
        manifest.attributes 'Implementation-Version': version
        manifest.attributes provider: 'Datenheld'
    }
    
	artifacts {
  		archives(jar) {
        	name jar.baseName
        	group "org.bulldog"
    	}
	}
    
	uploadArchives {
	    repositories {
	       flatDir {
	           dirs '../bulldog.repository'
	       }
	    }
	}

}

